<div class="row">

  <div class="col-sm-12 table-container">
    <table class="table">
      <thead>
        <tr>
          @for (column of columnsToDisplay; track column) {
            <th
              [ngClass]="{
              'col-id': column === 'id',
              'col-title': column === 'title',
              'col-image': column === 'image'
              }"
            >
              <span>{{ column }} <i (click)="sortData(column)" [ngClass]="getSortIcon(column)"></i> </span>
            </th>
          }
        </tr>
      </thead>

      <tbody>
        @for(item of pagedData; track item.id) {
          <tr>
            @for(column of columnsToDisplay; track column) {
              <td [attr.title]="column === 'title' ? item[column] : null">
                @if (column === 'image') {
                  <img
                    [ngSrc]="item[column]"
                    width="30"
                    height="30"
                    alt="image"
                    class="table-image"
                  />
                } @else {
                  {{ item[column] }}
                }
              </td>
            }
          </tr>
        }
      </tbody>
    </table>

    <div class="row w-100 table-footer-container">
      <div class="col-sm w-100 footer-paginator-container">
        @if (tableData.length > pageSize) {
          <nav>
            <ul class="pagination">
              <li class="page-item" [class.disabled]="currentPage === 1">
                <a class="page-link" (click)="setPage(currentPage - 1)">Anterior</a>
              </li>
              @for (page of getPages(); track page) {
                <li class="page-item" [class.active]="page === currentPage">
                  <a class="page-link" (click)="setPage(page)">{{ page }}</a>
                </li>
              }
              <li class="page-item" [class.disabled]="currentPage === getTotalPages()">
                <a class="page-link" (click)="setPage(currentPage + 1)">Pr√≥xima</a>
              </li>
            </ul>
          </nav>
        }
      </div>
    </div>
  </div>

</div>
